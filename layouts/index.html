{{- /* Custom homepage for Colorful Cardboard (overrides PaperMod) */ -}}
{{- define "main" -}}

<section class="cc-hero">
  <div class="cc-hero__inner cc-hero__inner--with-logo">
    <div class="cc-hero__logo">
      <img src="/images/logo-premium.png" alt="Colorful Cardboard" />
    </div>
    <div class="cc-hero__text">
      <p class="cc-hero__kicker">Premium Pokemon card analysis</p>
      <h1 class="cc-hero__title">Data-driven Pokemon card investing</h1>
      <p class="cc-hero__tagline">Market trends, undervalued picks, and set breakdowns—so you can buy with conviction.</p>
      <div class="cc-hero__cta">
        <a class="cc-btn cc-btn--primary" href="/start-here/">Start Here →</a>
      </div>
    </div>
  </div>
</section>

<section class="cc-section cc-filter">
  <div class="cc-filter__bar" aria-label="Browse by category">
    <a class="cc-pill is-active" href="/posts/">All</a>
    <a class="cc-pill" href="/categories/market-analysis/">Market Analysis</a>
    <a class="cc-pill" href="/categories/card-picks/">Card Picks</a>
    <a class="cc-pill" href="/categories/set-reviews/">Set Reviews</a>
    <a class="cc-pill" href="/categories/beginners-guide/">Beginner's Guide</a>
  </div>
</section>

<section class="cc-section cc-latest">
  <div class="cc-section__head">
    <h2>Latest Analysis</h2>
    <a class="cc-section__link" href="/posts/">View all →</a>
  </div>

  <div class="cc-post-grid cc-post-grid--home" id="cc-posts">
    {{- $pages := where .Site.RegularPages "Type" "in" (slice "posts" "post") -}}
    {{- $pages = where $pages "Draft" false -}}
    {{- range first 12 (sort $pages "Date" "desc") -}}
      {{- $cat := "" -}}
      {{- with .Params.categories -}}
        {{- $cat = (index . 0) -}}
      {{- end -}}
      <article class="cc-post-card" data-cat="{{ $cat }}">
        <a class="cc-post-card__link" href="{{ .RelPermalink }}">
          {{- $img := "" -}}
          {{- with .Params.cover -}}
            {{- $img = .image -}}
          {{- end -}}
          {{- if $img -}}
            <div class="cc-post-card__thumb" style="--cc-thumb-bg: url('{{ $img }}');"></div>
          {{- else -}}
            <div class="cc-post-card__thumb cc-post-card__thumb--fallback"></div>
          {{- end -}}

          <div class="cc-post-card__body">
            <div class="cc-post-card__meta">
              <time datetime="{{ .Date }}">{{ .Date.Format "Jan 2, 2006" }}</time>
              {{- if $cat -}}
                <span class="cc-dot">•</span>
                <span class="cc-post-card__cat">{{ $cat }}</span>
              {{- end -}}
            </div>
            <h3 class="cc-post-card__title">{{ .Title }}</h3>
            {{- with .Params.description -}}
              <p class="cc-post-card__desc">{{ . }}</p>
            {{- end -}}
          </div>
        </a>
      </article>
    {{- end -}}
  </div>

</section>

{{- /* Newsletter section - disabled until Kit.com integration is wired
<section class="cc-newsletter">
  <div class="cc-newsletter__inner">
    <div class="cc-newsletter__copy">
      <h2>Get new analysis in your inbox</h2>
      <p>One email per week. Market moves, rotation watchlists, and the best ideas.</p>
    </div>
    <form class="cc-newsletter__form" action="#" method="post">
      <label class="sr-only" for="cc-email">Email</label>
      <input id="cc-email" name="email" type="email" placeholder="you@example.com" autocomplete="email" />
      <button type="submit">Subscribe</button>
    </form>
  </div>
</section>
*/ -}}

{{- end -}}
